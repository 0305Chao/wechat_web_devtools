'use strict';!function(require,directRequire){const a=require('./c016c015550b8c8e4a79e8e85062bd17.js'),b=require('./76d9df7b0b3e47fbe17881420a4bef86.js'),c=require('./bc78839ccca8df9e5ceeb7fae11b7be2.js'),d=require('./ff946754202ecf377034d29daac7c8d9.js'),e=(a,b,c,e)=>{return new Promise((f)=>{const g=(h)=>{h=JSON.parse(h);const{command:i,data:j}=h;i==b&&j.callbackID==c&&(d.off(`WEBVIEW_${a}`,g),f(j.res),'function'==typeof e&&e())};d.on(`WEBVIEW_${a}`,g)})};module.exports={[a.Name.FIND_WEBVIEW]:async(a,d)=>{const e=d.route,f=c.getState();let g=null;for(let b in f.simulator.webviewInfos){let a=f.simulator.webviewInfos[b];if(a.pathName==e){g=b;break}}return g?{status:b.Success,value:{WEBVIEW:g}}:{status:b.InvalidElementState}},[a.Name.FIND_WEBVIEW_ELEMENT]:async(a,f)=>{const g=a.getParameter('webviewId'),h=`${Math.random()}${Date.now()}`,i=c.getState();return i.simulator.webviewInfos[g]?(d.sendMessage(`WEBVIEW_${g}`,JSON.stringify({command:'Driver.findElement',data:{callbackID:h,value:f.value,using:f.using}})),e(g,'Driver.findElement.callback',h)):{status:b.NoSuchFrame}},[a.Name.FIND_WEBVIEW_ELEMENTS]:async(a,f)=>{const g=a.getParameter('webviewId'),h=`${Math.random()}${Date.now()}`,i=c.getState();return i.simulator.webviewInfos[g]?(d.sendMessage(`WEBVIEW_${g}`,JSON.stringify({command:'Driver.findElements',data:{callbackID:h,value:f.value,using:f.using}})),e(g,'Driver.findElements.callback',h)):{status:b.NoSuchFrame}},[a.Name.TOUCH_CLICK_WEBVIEW_ELEMENT]:async(a,f)=>{const g=a.getParameter('webviewId'),h=f.element,i=`${Math.random()}${Date.now()}`,j=c.getState();return j.simulator.webviewInfos[g]?(d.sendMessage(`WEBVIEW_${g}`,JSON.stringify({command:'Driver.tapElement',data:{callbackID:i,ELEMENT:h}})),e(g,'Driver.tapElement.callback',i)):{status:b.NoSuchFrame}},[a.Name.TOUCH_LONGCLICK_WEBVIEW_ELEMENT]:async(a,f)=>{const g=a.getParameter('webviewId'),h=f.element,i=`${Math.random()}${Date.now()}`,j=c.getState();return j.simulator.webviewInfos[g]?(d.sendMessage(`WEBVIEW_${g}`,JSON.stringify({command:'Driver.longtapElement',data:{callbackID:i,ELEMENT:h}})),e(g,'Driver.longtapElement.callback',i)):{status:b.NoSuchFrame}},[a.Name.TOUCH_DOWN_WEBVIEW]:async(a,f)=>{const g=a.getParameter('webviewId'),{x:h,y:i}=f,j=`${Math.random()}${Date.now()}`,k=c.getState();return k.simulator.webviewInfos[g]?(d.sendMessage(`WEBVIEW_${g}`,JSON.stringify({command:'Driver.touchDown',data:{callbackID:j,x:h,y:i}})),e(g,'Driver.touchDown.callback',j)):{status:b.NoSuchFrame}},[a.Name.TOUCH_MOVE_WEBVIEW]:async(a,f)=>{const g=a.getParameter('webviewId'),{x:h,y:i}=f,j=`${Math.random()}${Date.now()}`,k=c.getState();return k.simulator.webviewInfos[g]?(d.sendMessage(`WEBVIEW_${g}`,JSON.stringify({command:'Driver.touchMove',data:{callbackID:j,x:h,y:i}})),e(g,'Driver.touchMove.callback',j)):{status:b.NoSuchFrame}},[a.Name.TOUCH_UP_WEBVIEW]:async(a,f)=>{const g=a.getParameter('webviewId'),{x:h,y:i}=f,j=`${Math.random()}${Date.now()}`,k=c.getState();return k.simulator.webviewInfos[g]?(d.sendMessage(`WEBVIEW_${g}`,JSON.stringify({command:'Driver.touchUp',data:{callbackID:j,x:h,y:i}})),e(g,'Driver.touchUp.callback',j)):{status:b.NoSuchFrame}},[a.Name.TOUCH_SCROLL_WEBVIEW]:async(a,f)=>{const g=a.getParameter('webviewId'),{xoffset:h,yoffset:i}=f,j=`${Math.random()}${Date.now()}`,k=c.getState();return k.simulator.webviewInfos[g]?(d.sendMessage(`WEBVIEW_${g}`,JSON.stringify({command:'Driver.scroll',data:{callbackID:j,xoffset:h,yoffset:i}})),e(g,'Driver.scroll.callback',j)):{status:b.NoSuchFrame}},[a.Name.GET_APPSERVICE_DATA]:async()=>{return new Promise((a)=>{const c=(e)=>{e=JSON.parse(e);const{command:f,data:g}=e;'SEND_APP_DATA'==f&&(d.off('APPSERVICE',c),a({status:b.Success,value:g}))};d.on('APPSERVICE',c),d.sendMessage('APPSERVICE',JSON.stringify({command:'GET_APP_DATA'}))})},[a.Name.SEND_KEYS_TO_WEBVIEW_ELEMENT]:async(a,f)=>{const g=a.getParameter('webviewId'),h=a.getParameter('id'),i=`${Math.random()}${Date.now()}`,j=c.getState();if(!j.simulator.webviewInfos[g])return{status:b.NoSuchFrame};let k=global.windowMap.get('MAIN').window.document,l=j.simulator.webviewInfos[g].pathName,m=k.querySelector(`[route="${l}"]`);return m.focus(),d.sendMessage(`WEBVIEW_${g}`,JSON.stringify({command:'Driver.sendKeys',data:{callbackID:i,ELEMENT:h,value:f.value}})),e(g,'Driver.sendKeys.callback',i,()=>{m.blur()})},[a.Name.GET_WEBVIEW_ELEMENT_TAG_NAME]:async(a)=>{const f=a.getParameter('webviewId'),g=a.getParameter('id'),h=`${Math.random()}${Date.now()}`,i=c.getState();return i.simulator.webviewInfos[f]?(d.sendMessage(`WEBVIEW_${f}`,JSON.stringify({command:'Driver.getTagName',data:{callbackID:h,ELEMENT:g}})),e(f,'Driver.getTagName.callback',h)):{status:b.NoSuchFrame}},[a.Name.GET_WEBVIEW_ELEMENT_ATTRIBUTE]:async(a)=>{const f=a.getParameter('webviewId'),g=a.getParameter('id'),h=a.getParameter('name'),i=`${Math.random()}${Date.now()}`,j=c.getState();return j.simulator.webviewInfos[f]?(d.sendMessage(`WEBVIEW_${f}`,JSON.stringify({command:'Driver.getAttribute',data:{callbackID:i,ELEMENT:g,name:h}})),e(f,'Driver.getAttribute.callback',i)):{status:b.NoSuchFrame}},[a.Name.GET_WEBVIEW_ELEMENT_LOCATION]:async(a)=>{const f=a.getParameter('webviewId'),g=a.getParameter('id'),h=`${Math.random()}${Date.now()}`,i=c.getState();return i.simulator.webviewInfos[f]?(d.sendMessage(`WEBVIEW_${f}`,JSON.stringify({command:'Driver.getLocation',data:{callbackID:h,ELEMENT:g}})),e(f,'Driver.getLocation.callback',h)):{status:b.NoSuchFrame}},[a.Name.GET_WEBVIEW_ELEMENT_SIZE]:async(a)=>{const f=a.getParameter('webviewId'),g=a.getParameter('id'),h=`${Math.random()}${Date.now()}`,i=c.getState();return i.simulator.webviewInfos[f]?(d.sendMessage(`WEBVIEW_${f}`,JSON.stringify({command:'Driver.getSize',data:{callbackID:h,ELEMENT:g}})),e(f,'Driver.getSize.callback',h)):{status:b.NoSuchFrame}},[a.Name.GET_WEBVIEW_ELEMENT_VALUE_OF_CSS_PROPERTY]:async(a)=>{const f=a.getParameter('webviewId'),g=a.getParameter('id'),h=a.getParameter('propertyName'),i=`${Math.random()}${Date.now()}`,j=c.getState();return j.simulator.webviewInfos[f]?(d.sendMessage(`WEBVIEW_${f}`,JSON.stringify({command:'Driver.getCssValue',data:{callbackID:i,ELEMENT:g,propertyName:h}})),e(f,'Driver.getCssValue.callback',i)):{status:b.NoSuchFrame}}}}(require('lazyload'),require);