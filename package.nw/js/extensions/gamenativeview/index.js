(function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.i=function(a){return a},b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a['default']}:function(){return a};return b.d(c,'a',c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p='',b(b.s=357)})({266:function(a,b,c){'use strict';b.a=function(a,b,c){let d=g++;f[d]=c,e.a.send({command:'WEBVIEW_INVOKE',data:{api:a,args:b,callbackID:d}})};var d=c(45),e=c.n(d);let f={},g=1;e.a.registerCallback((a)=>{let{command:b,data:c}=a;if('WEBVIEW_INVOKE_CALLBACK'===b){let a=c.callbackID,b=f[a];'function'==typeof b&&b(c.res),delete f[a]}})},267:function(a,b,c){'use strict';function d(a,b){let c=h[a];'function'==typeof c&&c(b,g.a)}b.a=function(a,b){b&&(h[a]=b)};var e=c(45),f=c.n(e),g=c(358);const h={};f.a.registerCallback((a)=>{let{command:b,data:c}=a;'WEBVIEW_ON_EVENT'===b&&d(c.eventName,c.data)})},268:function(a,b,c){'use strict';b.a=function(a,b){e.a.send({command:'WEBVIEW_PUBLISH',data:{eventName:a,data:b}})};var d=c(45),e=c.n(d)},269:function(a,b,c){'use strict';function d(a,b,c){let d=g[a];'function'==typeof d&&d(b,c)}b.a=function(a,b){g[a]=b};var e=c(45),f=c.n(e),g={};f.a.registerCallback((a)=>{let{command:b,data:c,webviewID:e}=a;'APPSERVICE_PUBLISH'===b&&d(c.eventName,c.data,e)})},357:function(a,b,c){'use strict';Object.defineProperty(b,'__esModule',{value:!0});var d=c(267),e=c(266),f=c(268),g=c(269);window.WeixinJSBridge={on:d.a,invoke:e.a,publish:f.a,subscribe:g.a}},358:function(a,b,c){'use strict';c.d(b,'a',function(){return f});const d=navigator.userAgent;let e=d.match(/webview\/(\d*)/),f=e?parseInt(d.match(/webview\/(\d*)/)[1]):0,g=-1!==d.indexOf('Android'),h=-1!==d.indexOf('iPhone'),i=-1!==d.indexOf('weapp')},4:function(a){function b(a){m=a?a:m;var e=g(p);k=new f(l,`${m}#${e}#`),k.onopen=function(){let a=[].concat(o);o=[],a.forEach((a)=>{c(a)})},k.onclose=function(){k=null,setTimeout(()=>{b(a)},100)},k.onmessage=function(a){try{let b=JSON.parse(a.data);d(b)}catch(a){}}}function c(a){k&&k.readyState===f.OPEN?k.send(JSON.stringify(a)):o.push(a)}function d(){n.forEach((a)=>{try{a.apply(this,arguments)}catch(a){console.error(a)}})}var e=window.navigator||window.__global.navigator,f=window.WebSocket||window.__global.WebSocket,g=window.prompt||window.__global.prompt,h=e.userAgent,i=h.match(/port\/(\d*)/),j=i?parseInt(i[1]):9974,k=null,l=`ws://127.0.0.1:${j}`,m=null,n=[],o=[];const p='GET_MESSAGE_TOKEN';a.exports={connect:b,send:c,registerCallback:(a)=>{n.push(a)},getWs(){return k}}},45:function(a,b,c){function d(){let a=`GAMENATIVEVIEW_${g}`;e.connect(a)}const e=c(4);var f=navigator.userAgent,g=f.match(/gamenativeview\/([^\s]*)/)[1];'complete'==document.readyState?d():window.addEventListener('load',()=>{d()}),a.exports={send:function(a){a.fromWebviewID=g,e.send(a)},registerCallback:e.registerCallback}}});