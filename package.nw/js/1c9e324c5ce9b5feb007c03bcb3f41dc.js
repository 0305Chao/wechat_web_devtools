"use strict";!function(require,directRequire){"use strict";function a(a){return g.ResponseType[a]||"<unknown>"}function b(a){return a===g.RequestType.Login?g.RequestCmd.Login:a===g.RequestType.EventNotifyBegin?g.RequestCmd.EventNotifyBegin:a===g.RequestType.EventNotifyBlock?g.RequestCmd.EventNotifyBlock:a===g.RequestType.EventNotifyEnd?g.RequestCmd.EventNotifyEnd:a===g.RequestType.Heartbeat?g.RequestCmd.Heartbeat:a===g.RequestType.JoinRoom?g.RequestCmd.JoinRoom:a===g.RequestType.MessageNotifyParallelly?g.RequestCmd.MessageNotifyParallelly:a===g.RequestType.MessageNotify?g.RequestCmd.MessageNotify:a===g.RequestType.QuitRoom?g.RequestCmd.QuitRoom:a===g.RequestType.SendDebugMessage?g.RequestCmd.SendDebugMessage:a===g.RequestType.SyncMessage?g.RequestCmd.SyncMessage:a===g.RequestType.SendDebugMessageParallelly?g.RequestCmd.SendDebugMessageParallelly:g.RequestCmd.Unknown}function c(a,b){let c=null;switch(b){case g.DebugMessageCategory.CallInterface:{const b=a,d={objName:b.name,methodName:b.method,methodArgList:b.args.map((a)=>a+""),callId:b.call_id},e=f.mmbizwxadevremote.WARemoteDebug_CallInterface.verify(d);h.expect(!!e,j).toBe(!1).fail(()=>{throw j.e("invalid callInterfaceObject obj",e),e}),c=f.mmbizwxadevremote.WARemoteDebug_CallInterface.encode(d).finish();break}case g.DebugMessageCategory.EvaluateJavascriptResult:{const b=a,d={ret:b.ret,evaluateId:b.evaluate_id},e=f.mmbizwxadevremote.WARemoteDebug_EvaluateJavascriptResult.verify(d);h.expect(!!e,j).toBe(!1).fail(()=>{throw j.e("invalid EvaluateJavascriptResult obj",e),e}),c=f.mmbizwxadevremote.WARemoteDebug_EvaluateJavascriptResult.encode(d).finish();break}case g.DebugMessageCategory.Ping:{const b={pingId:a.ping_id},d=f.mmbizwxadevremote.WARemoteDebug_Ping.verify(b);h.expect(!!d,j).toBe(!1).fail(()=>{throw j.e("invalid Ping obj",d),d}),c=f.mmbizwxadevremote.WARemoteDebug_Ping.encode(b).finish();break}case g.DebugMessageCategory.Breakpoint:{const b={isHit:!!a.is_hit},d=f.mmbizwxadevremote.WARemoteDebug_Breakpoint.verify(b);h.expect(!!d,j).toBe(!1).fail(()=>{throw j.e("invalid Breakpoint obj",d),d}),c=f.mmbizwxadevremote.WARemoteDebug_Breakpoint.encode(b).finish();break}default:throw j.e("invalid debug message category",b),new Error("invalid debug message category "+b);}return c}function d(a){return a.map((a)=>{return{seq:a.seq,delay:a.delay,category:a.category,data:c(a.data,a.category)}})}function e(a){const b="string"==typeof a.data?Buffer.from(a.data):a.data;let c=null;const d=a.category;if(b)switch(a.category){case g.DebugMessageCategory.Breakpoint:{const a=f.mmbizwxadevremote.WARemoteDebug_Breakpoint.decode(b),d=f.mmbizwxadevremote.WARemoteDebug_Breakpoint.toObject(a);c={is_hit:d.isHit?1:0};break}case g.DebugMessageCategory.CallInterface:{const a=f.mmbizwxadevremote.WARemoteDebug_CallInterface.decode(b),d=f.mmbizwxadevremote.WARemoteDebug_CallInterface.toObject(a);c={name:d.objName,method:d.methodName,args:d.methodArgList,call_id:d.callId};break}case g.DebugMessageCategory.CallInterfaceResult:{const a=f.mmbizwxadevremote.WARemoteDebug_CallInterfaceResult.decode(b),d=f.mmbizwxadevremote.WARemoteDebug_CallInterfaceResult.toObject(a);c={ret:d.ret,call_id:d.callId};break}case g.DebugMessageCategory.EvaluateJavascript:{const a=f.mmbizwxadevremote.WARemoteDebug_EvaluateJavascript.decode(b),d=f.mmbizwxadevremote.WARemoteDebug_EvaluateJavascript.toObject(a);c={script:d.script,evaluate_id:d.evaluateId};break}case g.DebugMessageCategory.EvaluateJavascriptResult:{const a=f.mmbizwxadevremote.WARemoteDebug_EvaluateJavascriptResult.decode(b),d=f.mmbizwxadevremote.WARemoteDebug_EvaluateJavascriptResult.toObject(a);c={ret:d.ret,evaluate_id:d.evaluateId};break}case g.DebugMessageCategory.Ping:{const a=f.mmbizwxadevremote.WARemoteDebug_Ping.decode(b),d=f.mmbizwxadevremote.WARemoteDebug_Ping.toObject(a);c={ping_id:d.pingId};break}case g.DebugMessageCategory.Pong:{const a=f.mmbizwxadevremote.WARemoteDebug_Pong.decode(b),d=f.mmbizwxadevremote.WARemoteDebug_Pong.toObject(a,{longs:Number});c={ping_id:d.pingId,network_type:d.networkType};break}case g.DebugMessageCategory.SetupContext:{const a=f.mmbizwxadevremote.WARemoteDebug_SetupContext.decode(b),d=f.mmbizwxadevremote.WARemoteDebug_SetupContext.toObject(a);c={register_interface:{obj_name:(d.registerInterface||{}).objName,obj_methods:((d.registerInterface||{}).objMethodList||[]).map((a)=>{return{method_name:a.methodName,method_args:a.methodArgList}})},configure_js:d.configureJs,public_js_md5:d.publicJsMd5,three_js_md5:d.threeJsMd5,device_info:{device_name:(d.deviceInfo||{}).deviceName,device_model:(d.deviceInfo||{}).deviceModel,os:(d.deviceInfo||{}).systemVersion,wechat_version:(d.deviceInfo||{}).wechatVersion,publib:(d.deviceInfo||{}).publibVersion}};break}default:{j.e("invalid debug object category"),c=null;break}}else c=null;return{seq:a.seq||0,delay:a.after||0,category:d||g.DebugMessageCategory.Ping,data:c||{}}}Object.defineProperty(exports,"__esModule",{value:!0});const f=require('./7a983d175ae5bf313342dd02835b3807.js'),g=require('./a148d3a11fd5268109e21fb40c9d527b.js'),h=require('./46d7303eb986fa402d60bf5e929aa077.js'),i=require('./56a764ae9cb4336bf6babe1c1da0275b.js'),j=i.default("[proto]");exports.requestCmdForType=b,exports.wrapOutgoingToProto=function(a,c,e){let i=null;switch(c){case g.RequestType.Login:{const b=a,c={baseRequest:{clientVersion:b.base_request.clientversion},newticket:b.newticket},d=f.mmbizwxadevremote.WARemoteDebug_DevLoginReq.verify(c);h.expect(!!d,j).toBe(!1).fail(()=>{throw j.e("invalid login request obj",d),d}),i=f.mmbizwxadevremote.WARemoteDebug_DevLoginReq.encode(c).finish();break}case g.RequestType.JoinRoom:{const b=a,c={baseRequest:{clientVersion:b.base_request.clientversion},appid:b.appid,roomId:b.room_id,wxpkgInfo:b.wxpkg_info},d=f.mmbizwxadevremote.WARemoteDebug_DevJoinRoomReq.verify(c);h.expect(!!d,j).toBe(!1).fail(()=>{throw j.e("invalid join room request obj",d),d}),i=f.mmbizwxadevremote.WARemoteDebug_DevJoinRoomReq.encode(c).finish();break}case g.RequestType.Heartbeat:{const b=a,c={baseRequest:{clientVersion:b.base_request.clientversion},recvAck:b.recv_ack},d=f.mmbizwxadevremote.WARemoteDebug_DevHeartBeatReq.verify(c);h.expect(!!d,j).toBe(!1).fail(()=>{throw j.e("invalid heartbeat request obj",d),d}),i=f.mmbizwxadevremote.WARemoteDebug_DevHeartBeatReq.encode(c).finish();break}case g.RequestType.SendDebugMessageParallelly:{const b=a,c={baseRequest:{clientVersion:b.base_request.clientversion},recvAck:b.recv_ack,debugMessageList:d(b.debug_message)},e=f.mmbizwxadevremote.WARemoteDebug_NewSendDebugMessageReq.verify(c);h.expect(!!e,j).toBe(!1).fail(()=>{throw j.e("invalid SendDebugMessageParallelly request obj",e),e}),i=f.mmbizwxadevremote.WARemoteDebug_NewSendDebugMessageReq.encode(c).finish();break}case g.RequestType.SendDebugMessage:{const b=a,c={baseRequest:{clientVersion:b.base_request.clientversion},recvAck:b.recv_ack,debugMessageList:d(b.debug_message)},e=f.mmbizwxadevremote.WARemoteDebug_SendDebugMessageReq.verify(c);h.expect(!!e,j).toBe(!1).fail(()=>{throw j.e("invalid SendDebugMessage request obj",e),e}),i=f.mmbizwxadevremote.WARemoteDebug_SendDebugMessageReq.encode(c).finish();break}case g.RequestType.QuitRoom:{const b={baseRequest:{clientVersion:a.base_request.clientversion}},c=f.mmbizwxadevremote.WARemoteDebug_DevQuitRoomReq.verify(b);h.expect(!!c,j).toBe(!1).fail(()=>{throw j.e("invalid QuitRoom request obj",c),c}),i=f.mmbizwxadevremote.WARemoteDebug_DevQuitRoomReq.encode(b).finish();break}case g.RequestType.SyncMessage:{const b=a,c={baseRequest:{clientVersion:b.base_request.clientversion},minSeq:b.min_seq};"number"==typeof b.max_seq&&(c.maxSeq=b.max_seq);const d=f.mmbizwxadevremote.WARemoteDebug_DevSyncMessageReq.verify(c);h.expect(!!d,j).toBe(!1).fail(()=>{throw j.e("invalid QuitRoom request obj",d),d}),i=f.mmbizwxadevremote.WARemoteDebug_DevSyncMessageReq.encode(c).finish();break}default:throw j.e("error wrapping outgoing object, invalid type",c),new Error;}const k=f.mmbizwxadevremote.WARemoteDebug_DataFormat.create({cmd:b(c),uuid:e,data:i});return f.mmbizwxadevremote.WARemoteDebug_DataFormat.encode(k).finish()},exports.unwrapProtoToDataFormat=function(b){const c=f.mmbizwxadevremote.WARemoteDebug_DataFormat.decode(b),d="string"==typeof c.data?Buffer.from(c.data):c.data;let h=null;switch(c.cmd){case g.ResponseType.Heartbeat:{const a=f.mmbizwxadevremote.WARemoteDebug_DevHeartBeatResp.decode(d),b=f.mmbizwxadevremote.WARemoteDebug_DevHeartBeatResp.toObject(a);h={base_response:b.baseResponse};break}case g.ResponseType.Login:{const a=f.mmbizwxadevremote.WARemoteDebug_DevLoginResp.decode(d),b=f.mmbizwxadevremote.WARemoteDebug_DevLoginResp.toObject(a);h={base_response:b.baseResponse,room_info:{join_room:(b.roomInfo||{}).joinRoom,original_md5:(b.roomInfo||{}).originalMd5,room_status:(b.roomInfo||{}).roomStatus,wx_conn_status:(b.roomInfo||{}).wxConnStatus,dev_conn_status:(b.roomInfo||{}).devConnStatus,room_id:(b.roomInfo||{}).roomId}};break}case g.ResponseType.EventNotifyEnd:case g.ResponseType.EventNotifyBlock:case g.ResponseType.EventNotifyBegin:{const a=f.mmbizwxadevremote.WARemoteDebug_EventNotify.decode(d),b=f.mmbizwxadevremote.WARemoteDebug_EventNotify.toObject(a);h={base_response:Object.assign({},b.baseResponse||{})};break}case g.ResponseType.JoinRoom:{const a=f.mmbizwxadevremote.WARemoteDebug_DevJoinRoomResp.decode(d),b=f.mmbizwxadevremote.WARemoteDebug_DevJoinRoomResp.toObject(a);h={base_response:b.baseResponse};break}case g.ResponseType.MessageNotifyParallelly:case g.ResponseType.MessageNotify:{const a=f.mmbizwxadevremote.WARemoteDebug_MessageNotify.decode(d),b=a.debugMessageList,c=[];for(const a of b)c.push(e(a));h={debug_message:c};break}case g.ResponseType.QuitRoom:{const a=f.mmbizwxadevremote.WARemoteDebug_DevQuitRoomResp.decode(d),b=f.mmbizwxadevremote.WARemoteDebug_DevQuitRoomResp.toObject(a);h={base_response:b.baseResponse};break}case g.ResponseType.SendDebugMessageParallelly:{const a=f.mmbizwxadevremote.WARemoteDebug_NewSendDebugMessageResp.decode(d),b=f.mmbizwxadevremote.WARemoteDebug_NewSendDebugMessageResp.toObject(a);h={base_response:b.baseResponse,max_ack:b.maxAck,min_ack:b.minAck};break}case g.ResponseType.SendDebugMessage:{const a=f.mmbizwxadevremote.WARemoteDebug_SendDebugMessageResp.decode(d),b=f.mmbizwxadevremote.WARemoteDebug_SendDebugMessageResp.toObject(a);h={base_response:b.baseResponse,send_ack:b.sendAck};break}case g.ResponseType.SyncMessage:{const a=f.mmbizwxadevremote.WARemoteDebug_DevSyncMessageResp.decode(d),b=a.debugMessageList,c=[];for(const a of b)c.push(e(a));h={debug_message:c,send_ack:a.sendAck,base_response:a.baseResponse};break}default:{j.e("error receive invalid cmd",c.cmd),h={};break}}const i={cmd:c.cmd,uuid:c.uuid,data:h,_comment:a(c.cmd)};return i},exports.uint8ArrayToBuffer=function(a){let b=Buffer.from(a.buffer);return a.byteLength!==a.buffer.byteLength&&(b=b.slice(a.byteOffset,a.byteOffset+a.byteLength)),b}}(require("lazyload"),require);